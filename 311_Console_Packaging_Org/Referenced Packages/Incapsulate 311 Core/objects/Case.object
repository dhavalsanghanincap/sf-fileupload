<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <fields>
        <fullName>Additional_Comments__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Additional Comments</label>
        <length>32768</length>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>3</visibleLines>
    </fields>
    <fields>
        <fullName>Address_ID__c</fullName>
        <deprecated>false</deprecated>
        <externalId>true</externalId>
        <label>Address ID</label>
        <length>128</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Address__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Address</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Auto_Close_Date__c</fullName>
        <deprecated>false</deprecated>
        <description>The date the case will auto close if enabled.</description>
        <externalId>false</externalId>
        <inlineHelpText>If the auto close feature is enabled then this will represent the date of it&apos;s close date.</inlineHelpText>
        <label>Auto Close Date</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Auto_Close__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <description>A field to determine if the case is to be auto closed or not.</description>
        <externalId>false</externalId>
        <inlineHelpText>If this field is checked the service request will close autiomatically based on the Auto Close date field.</inlineHelpText>
        <label>Auto Close</label>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Case_Comments__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Case Comments</label>
        <length>60000</length>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>3</visibleLines>
    </fields>
    <fields>
        <fullName>Closing_Activity__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Closing Activity</label>
        <referenceTo>Service_Activity__c</referenceTo>
        <relationshipLabel>Closed Cases</relationshipLabel>
        <relationshipName>Cases</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Closing_Respopnse__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Closing Response</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>TextArea</type>
    </fields>
    <fields>
        <fullName>Distribution__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Distribution</label>
        <referenceTo>Distributions__c</referenceTo>
        <relationshipLabel>Cases (Distribution)</relationshipLabel>
        <relationshipName>Case_Distributions</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Duplicate_Parent__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Duplicate Parent</label>
        <referenceTo>Case</referenceTo>
        <relationshipLabel>Service Requests (Duplicates)</relationshipLabel>
        <relationshipName>Duplicate_Child</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Elapsed_SLA_Hours__c</fullName>
        <defaultValue>0</defaultValue>
        <deprecated>false</deprecated>
        <description>Time spent in Service Request resolution</description>
        <externalId>false</externalId>
        <inlineHelpText>Time spent in Service Request resolution</inlineHelpText>
        <label>Elapsed SLA (Hours)</label>
        <precision>13</precision>
        <required>false</required>
        <scale>3</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Expected_Date_Time__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Expected Date/Time</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Expected_Start_Date__c</fullName>
        <defaultValue>NOW()</defaultValue>
        <deprecated>false</deprecated>
        <description>Expected start date to resolve the service request</description>
        <externalId>false</externalId>
        <inlineHelpText>Expected start date to resolve the service request</inlineHelpText>
        <label>Expected Start Date</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>External_Comments__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>External Comments</label>
        <length>32768</length>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>3</visibleLines>
    </fields>
    <fields>
        <fullName>Last_Queue_Owner__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Last Queue Owner</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>TextArea</type>
    </fields>
    <fields>
        <fullName>Layer_Information__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Layer Information</label>
        <length>32768</length>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>3</visibleLines>
    </fields>
    <fields>
        <fullName>LegacyId__c</fullName>
        <caseSensitive>false</caseSensitive>
        <deprecated>false</deprecated>
        <externalId>true</externalId>
        <label>LegacyId</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>true</unique>
    </fields>
    <fields>
        <fullName>Location_Details__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Location Details</label>
        <length>10000</length>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>3</visibleLines>
    </fields>
    <fields>
        <fullName>Location__c</fullName>
        <deprecated>false</deprecated>
        <displayLocationInDecimal>false</displayLocationInDecimal>
        <externalId>false</externalId>
        <label>Location</label>
        <required>false</required>
        <scale>15</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Location</type>
    </fields>
    <fields>
        <fullName>Media_URL__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Media URL</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Url</type>
    </fields>
    <fields>
        <fullName>Neighborhood__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Neighborhood</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OldCaseNumber__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>OldCaseNumber</label>
        <length>50</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Override_SLA_Calc__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Override SLA Calc</label>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Parcel__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Parcel</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Precinct__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Precinct</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Requested_Date_Time__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Requested Date/Time</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>SLA_Type__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>SLA Type</label>
        <picklist>
            <picklistValues>
                <fullName>Business Days</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Calendar Days</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Hours</fullName>
                <default>false</default>
            </picklistValues>
            <restrictedPicklist>true</restrictedPicklist>
            <sorted>false</sorted>
        </picklist>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>SLA__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>SLA</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Service_Request_Created__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Service Request Created</label>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Service_Request_Number__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>IF( OR(ISNULL(LegacyId__c),ISBLANK(LegacyId__c)), CaseNumber, LegacyId__c)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Service Request Id</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Service_Request_Source__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Service Request Source</label>
        <length>100</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Service_Type_Version_Code__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>Service_Type_Version__r.Service_Type_Code__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Service Type Version Code</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Service_Type_Version__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Service Type Version</label>
        <referenceTo>Service_Type_Version__c</referenceTo>
        <relationshipLabel>Service Requests</relationshipLabel>
        <relationshipName>Cases</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Status_Notes__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Status Notes</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Street_ID__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Street ID</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Sub_Address_ID__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Sub Address ID</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Transfer_Parent__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Transfer Parent</label>
        <referenceTo>Case</referenceTo>
        <relationshipLabel>Service Requests (Transfers)</relationshipLabel>
        <relationshipName>Transfer_Children</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Unit__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Unit</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Updated_Date_Time__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Updated Date/Time</label>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Ward__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Ward</label>
        <length>255</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>XCoordinate__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>XCoordinate</label>
        <precision>16</precision>
        <required>false</required>
        <scale>8</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>X_Coordinate__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>TEXT(XCoordinate__c)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>X Coordinate</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>YCoordinate__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>YCoordinate</label>
        <precision>16</precision>
        <required>false</required>
        <scale>8</scale>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Y_Coordinate__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>TEXT(YCoordinate__c)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Y Coordinate</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Zipcode__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Zipcode</label>
        <length>12</length>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <validationRules>
        <fullName>SLA_Fields_Complete</fullName>
        <active>true</active>
        <description>Ensures that SLA and SLA Type are either both defined or both undefined.</description>
        <errorConditionFormula>OR(
      AND(
             ISBLANK(SLA__c),
             NOT(ISBLANK(TEXT(SLA_Type__c)))
      ),
      AND(
             NOT(ISBLANK(SLA__c)),
             ISBLANK(TEXT(SLA_Type__c))
      )
)</errorConditionFormula>
        <errorMessage>Both SLA and SLA Type must be completed or both be empty</errorMessage>
    </validationRules>
    <webLinks>
        <fullName>Reallocate_Case</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Reallocate</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/support/console/28.0/integration.js&quot;)}

var redirectUrl = &apos;apex/Incap311__Base311_CaseReallocate?scontrolCaching=1&amp;id={!Case.Id}&apos;;

var isClosed = &apos;{!Case.Status}&apos;;

if (isClosed.includes(&apos;Closed&apos;)) {
   alert(&apos;You cannot reallocate a closed case.&apos;);
}
else {

if (sforce.console.isInConsole()) {
  sforce.console.getEnclosingTabId(function(enclosingResult){
    sforce.console.getEnclosingPrimaryTabId(function(primaryResult){
      sforce.console.openSubtab(primaryResult.id, redirectUrl, true, &apos;Reallocate: #{!Case.CaseNumber}&apos;, null);
    });
  });
} else {
  window.location.href = redirectUrl;
}
}</url>
    </webLinks>
</CustomObject>
